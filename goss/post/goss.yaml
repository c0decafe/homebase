file:
  /home:
    exists: true
    filetype: directory
    mode: "0755"
    owner: root
    group: root
  /home/vscode:
    exists: true
    filetype: directory
    mode: "0755"
    owner: vscode
    group: vscode
  /workspaces:
    exists: true
    filetype: directory
    mode: "0755"
    owner: vscode
    group: vscode
  /usr/local:
    exists: true
    filetype: directory
    mode: "0775"
    owner: root
    group: vscode
  /usr/local/share:
    exists: true
    filetype: directory
    mode: "0775"
    owner: root
    group: vscode
  /home/vscode/.nix-profile:
    exists: true
    filetype: symlink
  /home/vscode/.nix-profile/bin/nvim:
    exists: true
  /home/vscode/.nix-profile/bin/direnv:
    exists: true
  /home/vscode/.nix-profile/bin/git:
    exists: true
  /home/vscode/.nix-profile/bin/docker-compose:
    exists: true
  /home/vscode/.ssh/authorized_keys:
    exists: true
    filetype: file
    mode: "0600"
    owner: vscode
    group: vscode
  /home/vscode/.config/nix/nix.conf:
    exists: true
    filetype: file
    owner: vscode
    group: vscode
  /home/vscode/.vscode-server/data/Machine/settings.json:
    exists: true
    filetype: file
    owner: vscode
    group: vscode

command:
  sshd-listens-2222:
    exec: bash -lc "ss -lnpt | grep ':2222'"
    exit-status: 0
  user-nvim-available:
    exec: bash -lc "sudo -u vscode /home/vscode/.nix-profile/bin/nvim --version >/dev/null"
    exit-status: 0
  user-direnv-available:
    exec: bash -lc "sudo -u vscode /home/vscode/.nix-profile/bin/direnv version >/dev/null"
    exit-status: 0
  user-git-available:
    exec: bash -lc "sudo -u vscode /home/vscode/.nix-profile/bin/git --version >/dev/null"
    exit-status: 0
  user-docker-compose-available:
    exec: bash -lc "sudo -u vscode /home/vscode/.nix-profile/bin/docker-compose version >/dev/null"
    exit-status: 0
